{"version":3,"file":"Tabs-cd5df825.js","sources":["../../../../js/tabs/shared/Tabs.svelte"],"sourcesContent":["<script context=\"module\">\n\texport const TABS = {};\n</script>\n\n<script lang=\"ts\">\n\timport { setContext, createEventDispatcher } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\timport type { SelectData } from \"@gradio/utils\";\n\n\tinterface Tab {\n\t\tname: string;\n\t\tid: object;\n\t\telem_id: string | undefined;\n\t\tvisible: boolean;\n\t\tinteractive: boolean;\n\t}\n\n\texport let visible = true;\n\texport let elem_id = \"id\";\n\texport let elem_classes: string[] = [];\n\texport let selected: number | string | object;\n\n\tlet tabs: Tab[] = [];\n\n\tconst selected_tab = writable<false | object | number | string>(false);\n\tconst selected_tab_index = writable<number>(0);\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: undefined;\n\t\tselect: SelectData;\n\t}>();\n\n\tsetContext(TABS, {\n\t\tregister_tab: (tab: Tab) => {\n\t\t\tlet existingTab = tabs.find((t) => t.id === tab.id);\n\t\t\tif (existingTab) {\n\t\t\t\t// update existing tab with newer values\n\t\t\t\tlet i = tabs.findIndex((t) => t.id === tab.id);\n\t\t\t\ttabs[i] = { ...tabs[i], ...tab };\n\t\t\t} else {\n\t\t\t\ttabs.push({\n\t\t\t\t\tname: tab.name,\n\t\t\t\t\tid: tab.id,\n\t\t\t\t\telem_id: tab.elem_id,\n\t\t\t\t\tvisible: tab.visible,\n\t\t\t\t\tinteractive: tab.interactive\n\t\t\t\t});\n\t\t\t}\n\t\t\tselected_tab.update((current) => {\n\t\t\t\tif (current === false && tab.visible && tab.interactive) {\n\t\t\t\t\treturn tab.id;\n\t\t\t\t}\n\n\t\t\t\tlet nextTab = tabs.find((t) => t.visible && t.interactive);\n\t\t\t\treturn nextTab ? nextTab.id : current;\n\t\t\t});\n\t\t\ttabs = tabs;\n\t\t\treturn tabs.length - 1;\n\t\t},\n\t\tunregister_tab: (tab: Tab) => {\n\t\t\tconst i = tabs.findIndex((t) => t.id === tab.id);\n\t\t\ttabs.splice(i, 1);\n\t\t\tselected_tab.update((current) =>\n\t\t\t\tcurrent === tab.id ? tabs[i]?.id || tabs[tabs.length - 1]?.id : current\n\t\t\t);\n\t\t},\n\t\tselected_tab,\n\t\tselected_tab_index\n\t});\n\n\tfunction change_tab(id: object | string | number): void {\n\t\tconst tab_to_activate = tabs.find((t) => t.id === id);\n\t\tif (\n\t\t\ttab_to_activate &&\n\t\t\ttab_to_activate.interactive &&\n\t\t\ttab_to_activate.visible\n\t\t) {\n\t\t\tselected = id;\n\t\t\t$selected_tab = id;\n\t\t\t$selected_tab_index = tabs.findIndex((t) => t.id === id);\n\t\t\tdispatch(\"change\");\n\t\t} else {\n\t\t\tconsole.warn(\"Attempted to select a non-interactive or hidden tab.\");\n\t\t}\n\t}\n\n\t$: tabs, selected !== null && change_tab(selected);\n</script>\n\n<div class=\"tabs {elem_classes.join(' ')}\" class:hide={!visible} id={elem_id}>\n\t<div class=\"tab-nav scroll-hide\" role=\"tablist\">\n\t\t{#each tabs as t, i (t.id)}\n\t\t\t{#if t.visible}\n\t\t\t\t{#if t.id === $selected_tab}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\tclass=\"selected\"\n\t\t\t\t\t\taria-selected={true}\n\t\t\t\t\t\taria-controls={t.elem_id}\n\t\t\t\t\t\tid={t.elem_id ? t.elem_id + \"-button\" : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t.name}\n\t\t\t\t\t</button>\n\t\t\t\t{:else}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\taria-selected={false}\n\t\t\t\t\t\taria-controls={t.elem_id}\n\t\t\t\t\t\tdisabled={!t.interactive}\n\t\t\t\t\t\taria-disabled={!t.interactive}\n\t\t\t\t\t\tid={t.elem_id ? t.elem_id + \"-button\" : null}\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tchange_tab(t.id);\n\t\t\t\t\t\t\tdispatch(\"select\", { value: t.name, index: i });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t.name}\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t{/each}\n\t</div>\n\t<slot />\n</div>\n\n<style>\n\t.tabs {\n\t\tposition: relative;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n\n\t.tab-nav {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-wrap: wrap;\n\t\tborder-bottom: 1px solid var(--border-color-primary);\n\t}\n\n\tbutton {\n\t\tmargin-bottom: -1px;\n\t\tborder: 1px solid transparent;\n\t\tborder-color: transparent;\n\t\tborder-bottom: none;\n\t\tborder-top-right-radius: var(--container-radius);\n\t\tborder-top-left-radius: var(--container-radius);\n\t\tpadding: var(--size-1) var(--size-4);\n\t\tcolor: var(--body-text-color-subdued);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--section-header-text-size);\n\t}\n\n\tbutton:disabled {\n\t\tcolor: var(--body-text-color-subdued);\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\tbutton:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\t.selected {\n\t\tborder-color: var(--border-color-primary);\n\t\tbackground: var(--background-fill-primary);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.bar {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -2px;\n\t\tleft: 0;\n\t\tz-index: 999;\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: 100%;\n\t\theight: 2px;\n\t\tcontent: \"\";\n\t}\n</style>\n"],"names":[],"mappings":"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"}